<%- include('../includes/header.ejs', { titulo : 'Editar Usuários'}) %>

<main class="corpo-editar">
    <h2 class="margem">Editar Usuário</h2>

    <form action="/usuarios/<%= usuarios.id_usuario%>/editar" method="POST" class="form margem" enctype="multipart/form-data">
        <div class="form-group">
            <label for="nome" class="col-form-label">Nome:</label>
            <input class="form-control" type="text" id="nome" name="nome" value="<%= usuarios.nome %>" required>
        </div>  
        <div class="form-group">
            <label for="usuario" class="col-form-label">Usuário:</label>
            <input class="form-control" type="text" id="usuario" name="usuario" value="<%= usuarios.usuario %>" step="0.01" required>
        </div>
        <div class="form-group">
            <label for="imagem" class="col-form-label">Perfil:</label>
            <div class="d-flex">
                <img src="<%= usuarios.imagem %>" alt="..." class="foto card-imagem">
                <input class="form-control" type="file" id="file" name="file" value="<%= usuarios.imagem %>">
            </div>
            <input type="hidden" id="imagem" name="imagem" value="<%= usuarios.imagem %>">
        </div>
        <div class="form-group">
            <label for="senha" class="col-form-label">Senha:</label>
            <input class="form-control mb-4" type="password" id="senha" name="senha" value="<%=usuarios.senha%>" required>
        </div>

        <button type="submit" class="btn btn-success botao gap-4"> Salvar Alterações </button>
        <a href="/usuarios/" class="btn btn-secondary gap-4"> Cancelar </a>
    </form>
        

        <% if (typeof mensagem != 'undefined') { %>
            <p class="erro"><% mensagem %></p>
        <% } %>
    </form>
</main>